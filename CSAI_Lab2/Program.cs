using CSAI_Lab2;
using CSAI_Lab2.DecisionTreeSystem;
using Table = System.Collections.Generic.List<System.Collections.Generic.Dictionary<string, object>>;

const string DATA_PATH = "C:\\ProgramData\\Lab2\\Data.txt";

Table table = new Table()
{
    new() { ["Час на сесію"] = 1.5f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 10.2f, ["Якість фото"] = "Низька",   ["Тип документа"] = "Водійське",            ["Освітлення"] = "Погане",        ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 2.1f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 3.5f, ["Якість фото"] = "Середня", ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Нерівномірне", ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 1.1f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Водійське",            ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 0.8f, ["Якість фото"] = "Низька",   ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Погане",        ["Відповідність фото"] = "Ні",  ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 5.5f, ["Якість фото"] = "Середня", ["Тип документа"] = "Інше",                   ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 2.3f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Водійське",            ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 15.0f, ["Якість фото"] = "Середня", ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Нерівномірне", ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 1.9f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 3.1f, ["Якість фото"] = "Низька",   ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Нерівномірне", ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 4.0f, ["Якість фото"] = "Середня", ["Тип документа"] = "Водійське",            ["Освітлення"] = "Погане",        ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 2.2f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Нерівномірне", ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 1.3f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 1.6f, ["Якість фото"] = "Середня", ["Тип документа"] = "Водійське",            ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 8.1f, ["Якість фото"] = "Низька",   ["Тип документа"] = "Інше",                   ["Освітлення"] = "Погане",        ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 1.8f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Ні",  ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 2.5f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 3.3f, ["Якість фото"] = "Середня", ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 12.4f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Водійське",            ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 1.7f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 2.8f, ["Якість фото"] = "Середня", ["Тип документа"] = "Водійське",            ["Освітлення"] = "Нерівномірне", ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 0.9f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Успішно"},
    new() { ["Час на сесію"] = 1.4f, ["Якість фото"] = "Середня", ["Тип документа"] = "Паспорт (ID-картка)", ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Ні",  ["Результат верифікації"] = "Невдало"},
    new() { ["Час на сесію"] = 2.0f, ["Якість фото"] = "Висока",  ["Тип документа"] = "Інше",                   ["Освітлення"] = "Добре",         ["Відповідність фото"] = "Так", ["Результат верифікації"] = "Невдало"}
};


DecisionTreeNode final = DecisionTreeGenerator.GetTree(table);
Console.WriteLine(final);

Console.WriteLine(final.Test("Тест 1", ("Час на сесію", 1.5f), ("Якість фото", "Висока"), ("Тип документа", "Паспорт (ID-картка)"), ("Освітлення", "Добре"), ("Відповідність фото", "Так")));
Console.WriteLine(final.Test("Тест 2", ("Час на сесію", 0.8f), ("Якість фото", "Низька"), ("Тип документа", "Паспорт (ID-картка)"), ("Освітлення", "Погане"), ("Відповідність фото", "Ні")));
Console.WriteLine(final.Test("Тест 3", ("Час на сесію", 10.2f), ("Якість фото", "Низька"), ("Тип документа", "Водійське"), ("Освітлення", "Погане"), ("Відповідність фото", "Так")));
Console.WriteLine(final.Test("Тест 4", ("Час на сесію", 2.0f), ("Якість фото", "Висока"), ("Тип документа", "Інше"), ("Освітлення", "Добре"), ("Відповідність фото", "Так")));
Console.WriteLine(final.Test("Тест 5", ("Час на сесію", 15.0f), ("Якість фото", "Середня"), ("Тип документа", "Паспорт (ID-картка)"), ("Освітлення", "Нерівномірне"), ("Відповідність фото", "Так")));
Console.WriteLine(final.Test("Тест 6", ("Час на сесію", 1.1f), ("Якість фото", "Висока"), ("Тип документа", "Водійське"), ("Освітлення", "Добре"), ("Відповідність фото", "Так")));
Console.WriteLine(final.Test("Тест 7", ("Час на сесію", 1.8f), ("Якість фото", "Висока"), ("Тип документа", "Паспорт (ID-картка)"), ("Освітлення", "Добре"), ("Відповідність фото", "Ні")));
Console.WriteLine(final.Test("Тест 8", ("Час на сесію", 3.1f), ("Якість фото", "Низька"), ("Тип документа", "Паспорт (ID-картка)"), ("Освітлення", "Нерівномірне"), ("Відповідність фото", "Так")));
Console.WriteLine(final.Test("Тест 9", ("Час на сесію", 4.0f), ("Якість фото", "Середня"), ("Тип документа", "Водійське"), ("Освітлення", "Погане"), ("Відповідність фото", "Так")));
Console.WriteLine(final.Test("Тест 10", ("Час на сесію", 2.2f), ("Якість фото", "Висока"), ("Тип документа", "Паспорт (ID-картка)"), ("Освітлення", "Нерівномірне"), ("Відповідність фото", "Так")));
Console.WriteLine(final.Test("Тест 11", ("Час на сесію", 12.4f), ("Якість фото", "Висока"), ("Тип документа", "Водійське"), ("Освітлення", "Добре"), ("Відповідність фото", "Так")));
Console.WriteLine(final.Test("Тест 12", ("Час на сесію", 3.5f), ("Якість фото", "Середня"), ("Тип документа", "Паспорт (ID-картка)"), ("Освітлення", "Нерівномірне"), ("Відповідність фото", "Так")));

/*string S(object obj) => obj.ToString();

Table table1 = new Table() {
    new(){ [S(Attrs.Дохід)] = 25, [S(Attrs.Історія)] = S(History.Добра), [S(Attrs.Забезпечення)] = S(Security.Ні), [S(Attrs.Кредит)] = 100, [S(Attrs.Рішення)] = S(Decision.Схвалити)},
    new(){ [S(Attrs.Дохід)] = 40, [S(Attrs.Історія)] = S(History.Добра), [S(Attrs.Забезпечення)] = S(Security.Так), [S(Attrs.Кредит)] = 250, [S(Attrs.Рішення)] = S(Decision.Схвалити)},
    new(){ [S(Attrs.Дохід)] = 15, [S(Attrs.Історія)] = S(History.Погана), [S(Attrs.Забезпечення)] = S(Security.Ні), [S(Attrs.Кредит)] = 50, [S(Attrs.Рішення)] = S(Decision.Відмовити)},
    new(){ [S(Attrs.Дохід)] = 60, [S(Attrs.Історія)] = S(History.Добра), [S(Attrs.Забезпечення)] = S(Security.Так), [S(Attrs.Кредит)] = 400, [S(Attrs.Рішення)] = S(Decision.Схвалити)},
    new(){ [S(Attrs.Дохід)] = 30, [S(Attrs.Історія)] = S(History.Середня), [S(Attrs.Забезпечення)] = S(Security.Ні), [S(Attrs.Кредит)] = 150, [S(Attrs.Рішення)] = S(Decision.Відмовити)},
};

Console.WriteLine(table1.ParceToString());

DecisionTreeNode dt = DecisionTreeGenerator.GetTree(table1);
Console.WriteLine(dt);*/